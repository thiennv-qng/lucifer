(globalThis.webpackChunksenhub=globalThis.webpackChunksenhub||[]).push([["node_modules_sentre_senhub_dist_components_pageLoader_lazy_recursive-src_bootstrap_app_tsx-no-750158","node_modules_sentre_senhub_dist_components_pageLoader_lazy_recursive"],{90571:e=>{function t(e){return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}t.keys=()=>[],t.resolve=t,t.id=90571,e.exports=t},45597:(e,t,s)=>{"use strict";Object.defineProperty(t,"X$",{value:!0}),Object.defineProperty(t,"jY",{enumerable:!0,get:function(){return i.default}}),t.h0=void 0,Object.defineProperty(t,"ng",{enumerable:!0,get:function(){return r.default}});var n=a(s(70854)),i=a(s(69363)),r=a(s(83272));function a(e){return e&&e.__esModule?e:{default:e}}const o=[n.default];t.h0=o},82311:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Page:()=>Ee,__esModule:()=>ze.X$,logo:()=>ze.jY,panels:()=>ze.h0,readme:()=>ze.ng});var n=s(55754),i=s(49471),r=s(92950),a=s(44994),o=s(32671),l=s(45263);const c=e=>{let{label:t="",value:s,action:n,bodyStyle:i,style:r}=e;return(0,l.jsx)(o.Card,{bordered:!1,className:"sentre-card-gradient",style:{borderRadius:8,...r,textAlign:"center",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},bodyStyle:{...i},children:(0,l.jsxs)(o.Space,{direction:"vertical",children:[(0,l.jsx)(o.Typography.Title,{level:1,className:"gradient-text",children:s}),(0,l.jsx)(o.Typography.Text,{children:t}),n]})})};var u=s(69716),d=s(48744),m=s.n(d),p=s(17604),h=s(70457),g=s(50794),y=s(59186),x=s(16677);const b={version:"0.1.0",name:"lucid",instructions:[{name:"initializePool",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"pool",isMut:!0,isSigner:!0},{name:"treasurer",isMut:!1,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"baseMint",isMut:!1,isSigner:!1},{name:"stableMint",isMut:!0,isSigner:!1},{name:"lptMint",isMut:!0,isSigner:!1},{name:"treasury",isMut:!0,isSigner:!1},{name:"stableTreasury",isMut:!0,isSigner:!1},{name:"baseTreasury",isMut:!0,isSigner:!1},{name:"lptTreasury",isMut:!0,isSigner:!1},{name:"tokenAccount",isMut:!0,isSigner:!1},{name:"stableTokenAccount",isMut:!0,isSigner:!1},{name:"baseTokenAccount",isMut:!0,isSigner:!1},{name:"lptTokenAccount",isMut:!0,isSigner:!1},{name:"cert",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"fee",type:"u64"},{name:"amount",type:"u64"},{name:"stableAmount",type:"u64"},{name:"baseAmount",type:"u64"}]},{name:"mintStable",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"pool",isMut:!0,isSigner:!1},{name:"treasurer",isMut:!1,isSigner:!1},{name:"baseMint",isMut:!1,isSigner:!1},{name:"stableMint",isMut:!0,isSigner:!1},{name:"baseTreasury",isMut:!0,isSigner:!1},{name:"stableTreasury",isMut:!0,isSigner:!1},{name:"baseTokenAccount",isMut:!0,isSigner:!1},{name:"stableTokenAccount",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"baseAmount",type:"u64"}]},{name:"burnStable",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"pool",isMut:!0,isSigner:!1},{name:"treasurer",isMut:!1,isSigner:!1},{name:"baseMint",isMut:!1,isSigner:!1},{name:"stableMint",isMut:!0,isSigner:!1},{name:"lptMint",isMut:!0,isSigner:!1},{name:"baseTreasury",isMut:!0,isSigner:!1},{name:"stableTreasury",isMut:!0,isSigner:!1},{name:"baseTokenAccount",isMut:!0,isSigner:!1},{name:"stableTokenAccount",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"stableAmount",type:"u64"}]},{name:"addLiquidity",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"pool",isMut:!0,isSigner:!1},{name:"treasurer",isMut:!1,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"stableMint",isMut:!0,isSigner:!1},{name:"baseMint",isMut:!1,isSigner:!1},{name:"lptMint",isMut:!0,isSigner:!1},{name:"treasury",isMut:!0,isSigner:!1},{name:"stableTreasury",isMut:!0,isSigner:!1},{name:"baseTreasury",isMut:!0,isSigner:!1},{name:"lptTreasury",isMut:!0,isSigner:!1},{name:"tokenAccount",isMut:!0,isSigner:!1},{name:"stableTokenAccount",isMut:!0,isSigner:!1},{name:"baseTokenAccount",isMut:!0,isSigner:!1},{name:"lptTokenAccount",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"},{name:"stableAmount",type:"u64"},{name:"baseAmount",type:"u64"}]},{name:"removeLiquidity",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"pool",isMut:!0,isSigner:!1},{name:"treasurer",isMut:!1,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"baseMint",isMut:!1,isSigner:!1},{name:"stableMint",isMut:!0,isSigner:!1},{name:"lptMint",isMut:!0,isSigner:!1},{name:"treasury",isMut:!0,isSigner:!1},{name:"stableTreasury",isMut:!0,isSigner:!1},{name:"baseTreasury",isMut:!0,isSigner:!1},{name:"lptTreasury",isMut:!0,isSigner:!1},{name:"tokenAccount",isMut:!0,isSigner:!1},{name:"baseTokenAccount",isMut:!0,isSigner:!1},{name:"lptTokenAccount",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"lptAmount",type:"u64"}]},{name:"borrow",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"pool",isMut:!0,isSigner:!1},{name:"treasurer",isMut:!1,isSigner:!1},{name:"baseMint",isMut:!0,isSigner:!1},{name:"lptMint",isMut:!0,isSigner:!1},{name:"baseTreasury",isMut:!0,isSigner:!1},{name:"lptTreasury",isMut:!0,isSigner:!1},{name:"baseTokenAccount",isMut:!0,isSigner:!1},{name:"lptTokenAccount",isMut:!0,isSigner:!1},{name:"cheque",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"lptAmount",type:"u64"}]},{name:"repay",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"pool",isMut:!0,isSigner:!1},{name:"treasurer",isMut:!1,isSigner:!1},{name:"baseMint",isMut:!0,isSigner:!1},{name:"lptMint",isMut:!0,isSigner:!1},{name:"baseTreasury",isMut:!0,isSigner:!1},{name:"lptTreasury",isMut:!0,isSigner:!1},{name:"baseTokenAccount",isMut:!0,isSigner:!1},{name:"lptTokenAccount",isMut:!0,isSigner:!1},{name:"cheque",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"buy",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"pool",isMut:!0,isSigner:!1},{name:"treasurer",isMut:!1,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"stableMint",isMut:!0,isSigner:!1},{name:"baseMint",isMut:!1,isSigner:!1},{name:"lptMint",isMut:!0,isSigner:!1},{name:"treasury",isMut:!0,isSigner:!1},{name:"stableTreasury",isMut:!0,isSigner:!1},{name:"baseTreasury",isMut:!0,isSigner:!1},{name:"lptTreasury",isMut:!0,isSigner:!1},{name:"tokenAccount",isMut:!0,isSigner:!1},{name:"stableTokenAccount",isMut:!0,isSigner:!1},{name:"baseTokenAccount",isMut:!0,isSigner:!1},{name:"lptTokenAccount",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"stableAmount",type:"u64"},{name:"baseAmount",type:"u64"}]},{name:"sell",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"pool",isMut:!0,isSigner:!1},{name:"treasurer",isMut:!1,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"stableMint",isMut:!0,isSigner:!1},{name:"baseMint",isMut:!1,isSigner:!1},{name:"lptMint",isMut:!0,isSigner:!1},{name:"treasury",isMut:!0,isSigner:!1},{name:"stableTreasury",isMut:!0,isSigner:!1},{name:"baseTreasury",isMut:!0,isSigner:!1},{name:"lptTreasury",isMut:!0,isSigner:!1},{name:"tokenAccount",isMut:!0,isSigner:!1},{name:"stableTokenAccount",isMut:!0,isSigner:!1},{name:"baseTokenAccount",isMut:!0,isSigner:!1},{name:"lptTokenAccount",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"initializeJupiter",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"jupiter",isMut:!0,isSigner:!0},{name:"treasurer",isMut:!1,isSigner:!1},{name:"baseMint",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"swapJupiter",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"jupiter",isMut:!0,isSigner:!1},{name:"treasurer",isMut:!1,isSigner:!1},{name:"baseMint",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"mintTreasury",isMut:!0,isSigner:!1},{name:"tokenAccount",isMut:!0,isSigner:!1},{name:"baseTokenAccount",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"amountIn",type:"u64"},{name:"amountOut",type:"u64"}]}],accounts:[{name:"cert",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"pool",type:"publicKey"},{name:"amount",type:"u64"}]}},{name:"cheque",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"pool",type:"publicKey"},{name:"borrowAmount",type:"u64"},{name:"baseAmount",type:"u64"}]}},{name:"jupiter",type:{kind:"struct",fields:[{name:"baseMint",type:"publicKey"}]}},{name:"pool",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"mint",type:"publicKey"},{name:"baseMint",type:"publicKey"},{name:"stableMint",type:"publicKey"},{name:"lptMint",type:"publicKey"},{name:"treasurer",type:"publicKey"},{name:"balance",type:"u64"},{name:"stableBalance",type:"u64"},{name:"baseBalance",type:"u64"},{name:"fee",type:"u64"},{name:"totalLptFee",type:"u64"},{name:"lptSupply",type:"u64"},{name:"startTime",type:"i64"}]}}],errors:[{code:6e3,name:"OverBorrow",msg:"Over borrow limit!"},{code:6001,name:"AmountZero",msg:"Required greater than zero"},{code:6002,name:"Slippage",msg:"Slippage error"},{code:6003,name:"InvalidAmount",msg:"Invalid Amount"}]};var j=s(97429).Buffer;const S={rent:g.rV.SYSVAR_RENT_PUBKEY,systemProgram:g.rV.SystemProgram.programId,associatedTokenProgram:g.P6.token.ASSOCIATED_PROGRAM_ID,tokenProgram:y.H_};const w=class{constructor(e,t){var s=this;if(this._provider=void 0,this.program=void 0,this.getPools=async()=>{let e=await this.program.account.pool.all();e=e.sort(((e,t)=>t.account.totalLptFee.toNumber()-e.account.totalLptFee.toNumber()));const t={};for(const s of e)t[s.publicKey.toBase58()]=s.account;return t},this.getPoolPDAs=async(e,t,s)=>{const n=new g.rV.PublicKey(e),i=new g.rV.PublicKey(t),r=new g.rV.PublicKey(s),[a]=await g.rV.PublicKey.findProgramAddress([j.from("treasurer"),n.toBuffer()],this.program.programId),[o]=await g.rV.PublicKey.findProgramAddress([j.from("stable_mint"),n.toBuffer()],this.program.programId),[l]=await g.rV.PublicKey.findProgramAddress([j.from("lpt_mint"),n.toBuffer()],this.program.programId);return{pool:e,treasurer:a,mint:t,stableMint:o,baseMint:s,lptMint:l,treasury:await g.P6.token.associatedAddress({mint:i,owner:a}),stableTreasury:await g.P6.token.associatedAddress({mint:o,owner:a}),baseTreasury:await g.P6.token.associatedAddress({mint:r,owner:a}),lptTreasury:await g.P6.token.associatedAddress({mint:l,owner:a})}},this.getTokenAccounts=async(e,t,s,n)=>{const i=new g.rV.PublicKey(e),r=new g.rV.PublicKey(s),a=new g.rV.PublicKey(n),o=await this.getPoolPDAs(t,s,n),l=await g.P6.token.associatedAddress({mint:r,owner:i}),c=await g.P6.token.associatedAddress({mint:a,owner:i}),u=await g.P6.token.associatedAddress({mint:o.stableMint,owner:i}),d=await g.P6.token.associatedAddress({mint:o.lptMint,owner:i}),[m]=await g.rV.PublicKey.findProgramAddress([j.from("cheque"),new g.rV.PublicKey(t).toBuffer(),i.toBuffer()],this.program.programId),[p]=await g.rV.PublicKey.findProgramAddress([o.lptMint.toBuffer(),i.toBuffer()],this.program.programId);return{cert:p,cheque:m,lptTokenAccount:d,tokenAccount:l,stableTokenAccount:u,baseTokenAccount:c}},this.initializePool=async(e,t,s,n,i,r)=>{const a=g.rV.Keypair.generate(),o=await this.getPoolPDAs(a.publicKey,e,t),l=this._provider.wallet,c=await this.getTokenAccounts(l.publicKey,a.publicKey,e,t),u=x.ComputeBudgetProgram.requestUnits({units:4e5,additionalFee:0}),d=(new x.Transaction).add(u),m=await this.program.methods.initializePool(s,n,i,r).accounts({authority:l.publicKey,...o,...c,...S}).instruction();d.add(m);return{txId:await this._provider.sendAndConfirm(d,[a]),address:a.publicKey}},this.mintStable=async(e,t)=>{const{mint:s,baseMint:n}=await this.program.account.pool.fetch(e),i=await this.getPoolPDAs(e,s,n),r=this._provider.wallet,a=await this.getTokenAccounts(r.publicKey,e,s,n);return{txId:await this.program.methods.mintStable(t).accounts({authority:r.publicKey,...i,...a,...S}).rpc()}},this.burnStable=async(e,t)=>{const{mint:s,baseMint:n}=await this.program.account.pool.fetch(e),i=await this.getPoolPDAs(e,s,n),r=this._provider.wallet,a=await this.getTokenAccounts(r.publicKey,e,s,n);return{txId:await this.program.methods.burnStable(t).accounts({authority:r.publicKey,...i,...a,...S}).rpc()}},this.addLiquidity=async(e,t,s,n)=>{const{mint:i,baseMint:r}=await this.program.account.pool.fetch(e),a=await this.getPoolPDAs(e,i,r),o=this._provider.wallet,l=await this.getTokenAccounts(o.publicKey,e,i,r);return{txId:await this.program.methods.addLiquidity(t,s,n).accounts({authority:o.publicKey,...a,...l,...S}).rpc()}},this.removeLiquidity=async(e,t)=>{const{mint:s,baseMint:n}=await this.program.account.pool.fetch(e),i=await this.getPoolPDAs(e,s,n),r=this._provider.wallet,a=await this.getTokenAccounts(r.publicKey,e,s,n);return{txId:await this.program.methods.removeLiquidity(t).accounts({authority:r.publicKey,...i,...a,...S}).rpc()}},this.borrow=async(e,t)=>{const{mint:s,baseMint:n}=await this.program.account.pool.fetch(e),i=await this.getPoolPDAs(e,s,n),r=this._provider.wallet,a=await this.getTokenAccounts(r.publicKey,e,s,n);return{txId:await this.program.methods.borrow(t).accounts({authority:r.publicKey,...i,...a,...S}).rpc()}},this.repay=async e=>{const{mint:t,baseMint:s}=await this.program.account.pool.fetch(e),n=await this.getPoolPDAs(e,t,s),i=this._provider.wallet,r=await this.getTokenAccounts(i.publicKey,e,t,s);return{txId:await this.program.methods.repay().accounts({authority:i.publicKey,...n,...r,...S}).rpc()}},this.buy=async(e,t,s)=>{const{mint:n,baseMint:i}=await this.program.account.pool.fetch(e);console.log(n,i," mint, baseMint");const r=await this.getPoolPDAs(e,n,i);console.log(r," PDAs");const a=this._provider.wallet,o=await this.getTokenAccounts(a.publicKey,e,n,i);console.log(o," tokenAccounts");const l=await this.program.methods.buy(t,s).accounts({authority:a.publicKey,...r,...o,...S}).rpc();return console.log(l," txId"),{txId:l}},this.sell=async(e,t)=>{const{mint:s,baseMint:n}=await this.program.account.pool.fetch(e),i=await this.getPoolPDAs(e,s,n),r=this._provider.wallet,a=await this.getTokenAccounts(r.publicKey,e,s,n);return{txId:await this.program.methods.sell(t).accounts({authority:r.publicKey,...i,...a,...S}).rpc()}},this.watch=(e,t)=>this.program.provider.connection.onProgramAccountChange(this.program.programId,(t=>{let{accountId:s,accountInfo:{data:n}}=t;const i=s.toBase58();try{const t=this.program.coder.accounts.decode("pool",n);return e(null,{type:"pool",address:i,data:t})}catch(r){}}),"confirmed",t),this.unwatch=async e=>{if(e)return await this.program.provider.connection.removeProgramAccountChangeListener(e)},this.getAllJupiter=async()=>this.program.account.jupiter.all(),this.getJupiterPDAs=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.rV.Keypair.generate().publicKey;const n=new g.rV.PublicKey(e);let i,r;const[a]=await g.rV.PublicKey.findProgramAddress([j.from("treasurer"),n.toBuffer()],s.program.programId),[o]=await g.rV.PublicKey.findProgramAddress([j.from("base_mint"),n.toBuffer()],s.program.programId);return t&&(i=new g.rV.PublicKey(t),r=await g.P6.token.associatedAddress({mint:i,owner:a})),{jupiter:n,treasurer:a,mint:i,mintTreasury:r,baseMint:o}},this.getTokenAccountsJupiter=async(e,t,s)=>{const n=new g.rV.PublicKey(e),i=new g.rV.PublicKey(t),r=new g.rV.PublicKey(s);return{tokenAccount:await g.P6.token.associatedAddress({mint:i,owner:n}),baseTokenAccount:await g.P6.token.associatedAddress({mint:r,owner:n})}},this.initializeJupiter=async()=>{const e=g.rV.Keypair.generate(),t=this._provider.wallet,s=await this.getJupiterPDAs(e.publicKey);return{txId:await this.program.methods.initializeJupiter().accounts({authority:t.publicKey,...s,...S}).signers([e]).rpc(),address:e.publicKey}},this.swapJupiter=async(e,t,s,n)=>{const i=await this.getAllJupiter(),r=this._provider.wallet;for(const a of i){if(a.account.baseMint.toBase58()!==e.toString())continue;const i=await this.getJupiterPDAs(a.publicKey,t),o=await this.getTokenAccountsJupiter(r.publicKey,t,a.account.baseMint);return this.program.methods.swapJupiter(s,n).accounts({authority:r.publicKey,...i,...o,...S}).rpc()}return null},!(e=>{if(!e)return!1;try{if(!new g.rV.PublicKey(e))throw new Error("Invalid public key");return!0}catch(t){return!1}})(t))throw new Error("Invalid program id");this._provider=e,this._provider.opts.skipPreflight=!0,this.program=new g.$r(b,t,this._provider)}},M=()=>{const e=(0,i.useWalletAddress)();return(0,r.useMemo)((()=>((e,t,s)=>{const n=new x.Connection(e,"confirmed"),i=new x.PublicKey(t);return new g.Y7(n,{publicKey:new x.PublicKey(i),signTransaction:s.signTransaction,signAllTransactions:async e=>{const t=[];for(const n of e){const e=await s.signTransaction(n);t.push(e)}return t}},{commitment:"confirmed",skipPreflight:!0})})(i.rpc,e,window.sentre.solana)),[e])},A=()=>{const e=M();return(0,r.useMemo)((()=>new w(e,"HG1dAGfncS2uxij2Dvs16m8QPFy3q8g6DZwrnPK6W7X8")),[e])};var f=s(40106),T=s(77967);const C=()=>{const e=(0,T.useGetMintDecimals)(),t=(0,r.useCallback)((async(t,s)=>{const n=await e({mintAddress:new g.rV.PublicKey(s).toString()})||0;return new g.BN(f.default.decimalize(t,n).toString())}),[e]),s=(0,r.useCallback)((async(t,s)=>{const n=await e({mintAddress:new g.rV.PublicKey(s).toString()})||0;return f.default.undecimalize(BigInt(t.toString()),n)}),[e]);return{decimalize:(0,r.useCallback)(((e,t)=>new g.BN(f.default.decimalize(e,t).toString())),[]),undecimalize:(0,r.useCallback)(((e,t)=>f.default.undecimalize(BigInt(e.toString()),t)),[]),decimalizeMintAmount:t,undecimalizeMintAmount:s}};var v=s(95418);const k=(e,t,s)=>i.util.isAddress(e)&&void 0!==t&&void 0!==s?{mintAddress:e,amount:t,decimals:s,balance:Number(v.utils.undecimalize(t,s))}:{amount:BigInt(0),decimals:0,balance:0},P=e=>{const t=(0,i.useWalletAddress)(),s=(0,i.useWalletBalance)(),n=(0,i.useAccounts)(),{amount:r,mint:a}=n[e]||{},o=(0,i.useMintDecimals)({mintAddress:a})||0;return i.util.isAddress(t)&&i.util.isAddress(e)?e===t?k(v.DEFAULT_EMPTY_ADDRESS,BigInt(s),9):k(a,r,o):k()},B=e=>{const[t,s]=(0,r.useState)(""),n=(0,i.useWalletAddress)(),a=P(t);return(0,r.useEffect)((()=>{(async()=>{if(!i.util.isAddress(n)||!i.util.isAddress(e))return s("");const t=await i.util.deriveAssociatedAddress(n,e);s(t)})()}),[e,n]),a};const N={appId:"senhub",url:"https://descartesnetwork.github.io/senhub/index.js"},I={devnet:{node:"https://api.devnet.solana.com",baseMint:"86RG7SrLu1dtuE2Eyg3XqWjEdpUwNUM7hsbMS5MVmv66",spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},testnet:{node:"https://api.testnet.solana.com",baseMint:"86RG7SrLu1dtuE2Eyg3XqWjEdpUwNUM7hsbMS5MVmv66",spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},mainnet:{node:"https://api.mainnet-beta.solana.com",baseMint:"86RG7SrLu1dtuE2Eyg3XqWjEdpUwNUM7hsbMS5MVmv66",spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}},R={manifest:{development:{...N},production:{...N}}[i.env],sol:I[i.net]},K=()=>{const[e,t]=(0,r.useState)(""),[s,n]=(0,r.useState)("0"),[a,c]=(0,r.useState)("0"),[u,m]=(0,r.useState)(!1),{decimalizeMintAmount:g,decimalize:y}=C(),x=A(),{balance:b}=B(e);return(0,l.jsxs)(o.Row,{gutter:[24,24],children:[(0,l.jsx)(o.Col,{span:24,style:{textAlign:"center"},children:(0,l.jsx)(o.Typography.Title,{level:5,style:{color:"#000000"},children:"New HackaPool"})}),(0,l.jsx)(o.Col,{span:24,children:(0,l.jsxs)(o.Row,{gutter:[0,0],justify:"space-between",children:[(0,l.jsx)(o.Col,{children:(0,l.jsxs)(o.Space,{direction:"vertical",children:[(0,l.jsx)(o.Typography.Text,{type:"secondary",className:"caption",children:"Token Amount"}),(0,l.jsx)(h.Z,{style:{background:"#F4FCEB",color:"#000000",borderRadius:32,height:40,width:135},value:e,onChange:t})]})}),(0,l.jsx)(o.Col,{children:(0,l.jsxs)(o.Space,{direction:"vertical",children:[(0,l.jsx)(o.Typography.Text,{type:"secondary",className:"caption",children:"Enter Price"}),(0,l.jsx)(o.InputNumber,{bordered:!1,style:{color:"#000000",fontSize:"20px",fontWeight:700,width:90},value:a,onChange:e=>c(e||"")})]})}),(0,l.jsx)(o.Col,{children:(0,l.jsxs)(o.Space,{direction:"vertical",children:[(0,l.jsx)(o.Typography.Text,{type:"secondary",className:"caption",children:"Amount"}),(0,l.jsx)(o.InputNumber,{bordered:!1,style:{color:"#000000",fontSize:"20px",fontWeight:700,width:90},value:s,onChange:e=>n(e||"")}),(0,l.jsxs)(o.Typography.Text,{style:{color:"#000000"},onClick:()=>n(b.toString()),children:["Available: ",i.util.numeric(b).format("0,0.[000]")]})]})})]})}),(0,l.jsx)(o.Col,{span:24,children:(0,l.jsxs)(o.Row,{gutter:[8,8],children:[(0,l.jsx)(o.Col,{span:24,children:(0,l.jsx)(o.Typography.Title,{level:5,style:{color:"#000000"},children:"Review"})}),(0,l.jsx)(o.Col,{span:24,children:(0,l.jsxs)(o.Row,{children:[(0,l.jsx)(o.Col,{flex:"auto",children:(0,l.jsx)(o.Typography.Text,{style:{color:"#000000"},children:"Total amount in the pool"})}),(0,l.jsx)(o.Col,{children:(0,l.jsx)(o.Typography.Title,{level:4,style:{color:"#000000"},children:i.util.numeric(s).format("0,0.[000]")})})]})}),(0,l.jsx)(o.Col,{span:24,children:(0,l.jsxs)(o.Row,{children:[(0,l.jsx)(o.Col,{flex:"auto",children:(0,l.jsx)(o.Typography.Text,{style:{color:"#000000"},children:"Price token"})}),(0,l.jsx)(o.Col,{children:(0,l.jsx)(o.Typography.Title,{level:4,style:{color:"#000000"},children:i.util.numeric(a).format("0,0.[000]")})})]})})]})}),(0,l.jsx)(o.Col,{span:24,children:(0,l.jsx)(o.Button,{type:"primary",block:!0,onClick:async()=>{const t=new d.BN(1e7);try{m(!0);const n=Number(s)*Number(a),i=await g(s,e),r=y(n,9),{txId:o}=await x.initializePool(e,R.sol.baseMint,t,i,r,new d.BN(0));(0,p.t5)("Create Pool",o)}catch(n){(0,p.cB)(n)}finally{m(!1)}},loading:u,children:"Create"})})]})},z=()=>{const[e,t]=(0,r.useState)(!1);return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(o.Button,{type:"primary",onClick:()=>t(!0),children:"New"}),(0,l.jsx)(o.Modal,{visible:e,onCancel:()=>t(!1),footer:!1,closeIcon:(0,l.jsx)(u.Z,{name:"close-outline"}),className:"sentre-modal-gradient",children:(0,l.jsx)(K,{})})]})};var D=s(63396),E=s(74939);const L=e=>(0,n.useSelector)((t=>t.pools[e])),{sol:{baseMint:O}}=R,_=new d.BN(0),F=e=>{let{label:t="",value:s}=e;return(0,l.jsxs)(o.Row,{gutter:[24,24],children:[(0,l.jsx)(o.Col,{flex:"auto",style:{color:"#000000"},children:t}),(0,l.jsx)(o.Col,{children:s})]})},Z=e=>{let{poolAddress:t}=e;const[s,n]=(0,r.useState)(!1),[a,c]=(0,r.useState)(O),[u,d]=(0,r.useState)("0"),[m,g]=(0,r.useState)("0"),[y,x]=(0,r.useState)(!1),{balance:b}=B(a),{decimalizeMintAmount:j}=C(),S=t||"4VY3v61QFN3S4amq5RpXGNX3UpXK1KzYyG8cLWnZbZH6",w=L(S),M=A(),f=!Number(u)||Number(u)>Number(b),T=(0,r.useCallback)((async()=>{if(!f)try{x(!0);const e=await j(u,a),t=await j(m,O),s=a===O;s||await M.swapJupiter(O,a,e,t);const{txId:i}=await M.addLiquidity(S,_,_,s?e:t);return n(!1),(0,p.t5)("Join Hakapool Successfully",i)}catch(e){(0,p.cB)(e)}finally{x(!1)}}),[f,j,u,a,m,M,S]),v=(0,r.useCallback)((async()=>{var e;if(!a)return;const t=await i.tokenProvider.findByAddress(a),s=null===t||void 0===t||null===(e=t.extensions)||void 0===e?void 0:e.coingeckoId;if(s){const e=await i.util.fetchCGK(s);return g(String(Number(u)*e.price))}return g("0")}),[u,a]);return(0,r.useEffect)((()=>{v()}),[v]),(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)("div",{className:"btn-bg joinnow",children:(0,l.jsx)("div",{className:"btn-group",children:(0,l.jsx)("div",{className:"btn ball",children:(0,l.jsxs)("button",{onClick:()=>n(!0),children:[(0,l.jsx)("div",{className:"joinnow-ball"}),(0,l.jsxs)("a",{children:["Join now",(0,l.jsx)("span",{"data-letters":"Go!"}),(0,l.jsx)("span",{"data-letters":"Go!"})]})]})})})}),(0,l.jsx)(o.Modal,{visible:s,onCancel:()=>n(!1),footer:!1,closable:!1,className:"sentre-modal-gradient",children:(0,l.jsxs)(o.Row,{gutter:[24,24],justify:"end",align:"middle",children:[(0,l.jsx)(o.Col,{span:24,style:{textAlign:"center"},children:(0,l.jsx)(o.Typography.Title,{style:{color:"#000000"},level:3,children:"Join with best pool"})}),(0,l.jsx)(o.Col,{span:24,children:(0,l.jsxs)(o.Row,{children:[(0,l.jsx)(o.Col,{flex:"auto",children:(0,l.jsx)(h.Z,{style:{background:"#F4FCEB",color:"#000000",borderRadius:32,height:40,width:135},value:a,onChange:c})}),(0,l.jsx)(o.Col,{children:(0,l.jsxs)(o.Space,{size:6,children:[(0,l.jsx)(o.Typography.Text,{style:{color:"#000000"},type:"secondary",children:"Available:"}),(0,l.jsx)(o.Typography.Text,{style:{cursor:"pointer",color:"#000000"},onClick:()=>d(b.toString()),children:i.util.numeric(b).format("0,0.[0000]")})]})})]})}),(0,l.jsx)(o.Col,{span:24,children:(0,l.jsxs)(o.Row,{gutter:[24,24],wrap:!1,align:"middle",children:[(0,l.jsx)(o.Col,{flex:"auto",children:(0,l.jsx)(o.InputNumber,{bordered:!1,value:u,onChange:e=>d(e||""),style:{fontSize:40,fontWeight:700,textAlign:"right",color:"#000000"}})}),(0,l.jsx)(o.Col,{children:(0,l.jsx)(o.Button,{type:"primary",onClick:()=>d(b.toString()),children:"Max"})})]})}),(0,l.jsx)(o.Col,{span:24,children:(0,l.jsx)(o.Typography.Title,{style:{color:"#000000"},level:5,children:"Review"})}),(0,l.jsx)(o.Col,{span:24,children:(0,l.jsxs)(o.Row,{gutter:[8,8],children:[(0,l.jsx)(o.Col,{span:24,children:(0,l.jsx)(F,{label:"Total Value",value:(0,l.jsx)(o.Space,{children:(0,l.jsxs)(o.Typography.Text,{style:{color:"#000000"},children:["$",i.util.numeric(m).format("0,0.[0000]")]})})})}),(0,l.jsx)(o.Col,{span:24,children:(0,l.jsx)(F,{label:"HakaPool will Join",value:(0,l.jsxs)(o.Space,{style:{color:"#000000"},children:[(0,l.jsx)(D.Z,{mintAddress:null===w||void 0===w?void 0:w.mint.toBase58()}),(0,l.jsx)(E.Z,{mintAddress:null===w||void 0===w?void 0:w.mint.toBase58()})]})})})]})}),(0,l.jsx)(o.Col,{span:24,children:(0,l.jsx)(o.Button,{type:"primary",style:{borderRadius:999},onClick:T,disabled:f,loading:y,block:!0,children:"Deposit"})})]})})]})},V=e=>{let{title:t="",label:s="",description:n=""}=e;return(0,l.jsxs)(o.Space,{direction:"vertical",style:{textAlign:"center"},children:[(0,l.jsx)(o.Typography.Title,{level:1,style:{color:"#283813"},children:t}),(0,l.jsxs)(o.Space,{direction:"vertical",size:0,children:[(0,l.jsx)(o.Typography.Title,{level:5,style:{fontWeight:300,color:"#283813"},children:s}),(0,l.jsx)(o.Typography.Title,{level:5,style:{color:"#283813"},children:n})]})]})},W=()=>(0,l.jsx)(o.Card,{className:"bg-gradient sentre-card-gradient",bordered:!1,bodyStyle:{padding:32},children:(0,l.jsxs)(o.Row,{gutter:[48,48],justify:"space-between",children:[(0,l.jsx)(o.Col,{span:12,children:(0,l.jsxs)(o.Space,{size:0,style:{width:"100%"},direction:"vertical",children:[(0,l.jsxs)(o.Row,{gutter:[12,12],children:[(0,l.jsx)(o.Col,{flex:"auto",children:(0,l.jsx)(o.Typography.Title,{level:2,style:{fontWeight:300,color:"#000"},children:"HAKAPOOL"})}),(0,l.jsx)(o.Col,{children:(0,l.jsx)(z,{})})]}),(0,l.jsx)(o.Typography.Title,{style:{color:"#000"},level:1,children:"ALL IN ONE 1 STEP"}),(0,l.jsx)(o.Typography.Title,{level:1,style:{fontSize:60,color:"#000"},children:"EASY REWARD"})]})}),(0,l.jsx)(o.Col,{span:12,children:(0,l.jsxs)(o.Row,{gutter:[32,32],style:{height:"100%"},align:"middle",children:[(0,l.jsx)(o.Col,{children:(0,l.jsxs)(o.Space,{children:[(0,l.jsx)(V,{title:"JOIN",label:"DEPOSIT",description:"ANY TOKEN"}),(0,l.jsx)(o.Divider,{style:{minWidth:80}}),(0,l.jsx)(V,{title:"CLAIM",label:"RECEIVE",description:"REWARD HIGH"})]})}),(0,l.jsx)(o.Col,{flex:"auto",children:(0,l.jsx)(Z,{})})]})})]})}),q=e=>{const[t,s]=(0,r.useState)({amount:0,stableAmount:0,baseAmount:0,lptAmount:0,lptFeeAmount:0}),n=L(e),{undecimalize:i,undecimalizeMintAmount:a}=C(),o=(0,r.useCallback)((async()=>{const{balance:e,mint:t,stableBalance:r,lptSupply:o,baseBalance:l,baseMint:c,totalLptFee:u}=n,d=Number(await a(e,t)),m=Number(i(r,9)),p=Number(a(l,c)),h=Number(i(o,9)),g=Number(i(u,9));return s({amount:d,stableAmount:m,baseAmount:p,lptAmount:h,lptFeeAmount:g})}),[n,i,a]);return(0,r.useEffect)((()=>{o()}),[o]),t},G=e=>{const t=q(e),[s,n]=(0,r.useState)({mintPrice:0,lptPrice:0}),i=(0,r.useCallback)((async()=>{const{amount:e,stableAmount:s,lptAmount:i}=t,r=s/e;return n({mintPrice:r,lptPrice:(r*e+s)/i})}),[t]);return(0,r.useEffect)((()=>{i()}),[i]),s},J=e=>{const t=L(e),s=G(e),n=t?t.lptMint.toBase58():"",i=B(n);return((null===i||void 0===i?void 0:i.balance)||0)*s.lptPrice};var H=s(99370);const Y=e=>{let{label:t="",tooltip:s,value:n="",mintAddress:i,primary:r,labelStyle:a,style:c,strong:d=!0,size:m=4}=e;const p=r?{color:"#ABFC47"}:{};return(0,l.jsxs)(o.Space,{direction:"vertical",size:m,children:[(0,l.jsxs)(o.Space,{size:4,children:[(0,l.jsx)(o.Typography.Text,{style:a,type:"secondary",children:t}),s&&(0,l.jsx)(o.Tooltip,{title:s,children:(0,l.jsx)(o.Button,{type:"text",shape:"circle",size:"small",icon:(0,l.jsx)(o.Typography.Text,{type:"secondary",children:(0,l.jsx)(u.Z,{name:"information-circle-outline"})})})})]}),(0,l.jsxs)(o.Space,{size:4,children:[(0,l.jsx)(o.Typography.Text,{style:{...c,...p},strong:d,children:n}),(0,l.jsx)("div",{style:{marginTop:-3},children:i&&(0,l.jsx)(E.Z,{mintAddress:i,size:18})})]})]})};var U=s(87408);const X=e=>{let{preffix:t,suffix:s,children:n,disabled:i=!1,loading:r=!1,onClick:a=(()=>{})}=e;return(0,l.jsx)("button",{className:"btn-neon",onClick:a,children:(0,l.jsx)("span",{className:"btn-neon-child",children:(0,l.jsxs)(o.Space,{size:6,children:[r&&(0,l.jsx)(o.Spin,{spinning:!0,indicator:(0,l.jsx)(U.Z,{})}),t,n,s]})})})};var $=s(58421);const Q=e=>{let{onChange:t,disabled:s=!1,mints:n}=e;const[a,c]=(0,r.useState)(""),d=(0,r.useCallback)((async()=>{if(!a||a.length<3)return t(n);const e=(await i.tokenProvider.find(a)).filter((e=>{let{address:t}=e;return n.includes(t)})).map((e=>{let{address:t}=e;return t}));return n.forEach((t=>{if(!e.includes(t)&&t.toLowerCase().includes(a.toLowerCase()))return e.push(t)})),t(e)}),[a,t,n]);return(0,r.useEffect)((()=>{d()}),[d]),(0,l.jsx)(o.Card,{className:"mint-search",bodyStyle:{padding:0},style:{padding:8},bordered:!1,children:(0,l.jsx)(o.Input,{placeholder:"Search",value:a,size:"small",bordered:!1,suffix:(0,l.jsx)(o.Button,{type:"text",style:{marginRight:-7},size:"small",onClick:a?()=>c(""):()=>{},icon:(0,l.jsx)(u.Z,{name:a?"close-outline":"search-outline"}),disabled:s}),onChange:e=>c(e.target.value),disabled:s})})},ee=e=>{let{mintAddress:t,onClick:s,active:n=!1}=e;return(0,l.jsx)(o.Card,{bodyStyle:{padding:0},className:"card-child-balansol mint-select-item",bordered:n,onClick:s,hoverable:!0,children:(0,l.jsxs)(o.Space,{size:12,style:{display:"flex"},children:[(0,l.jsx)(E.Z,{mintAddress:t,size:32}),(0,l.jsx)(o.Typography.Text,{style:{margin:0},children:(0,l.jsx)(H.Z,{mintAddress:t})}),(0,l.jsx)(o.Divider,{type:"vertical",style:{margin:0}}),(0,l.jsx)(o.Typography.Text,{type:"secondary",style:{margin:0,fontSize:12},children:(0,l.jsx)(D.Z,{mintAddress:t})})]})})},te=e=>{let{selectedMint:t,onChange:s,visible:n,mints:i,onClose:a,style:c}=e;const[d,m]=(0,r.useState)(i);return(0,l.jsx)(o.Modal,{visible:n,closeIcon:(0,l.jsx)(u.Z,{name:"close"}),footer:null,destroyOnClose:!0,centered:!0,onCancel:a,style:c,children:(0,l.jsxs)(o.Row,{gutter:[16,16],children:[(0,l.jsx)(o.Col,{span:24,children:(0,l.jsx)(o.Typography.Title,{level:4,children:"Select token"})}),(0,l.jsx)(o.Col,{span:24,children:(0,l.jsx)(Q,{mints:i,onChange:m})}),(0,l.jsx)(o.Col,{span:24,children:(0,l.jsx)(o.Row,{gutter:[16,16],style:{height:300},className:"scrollbar",children:(0,l.jsx)(o.Col,{span:24,children:(0,l.jsx)(o.Row,{gutter:[16,16],children:d.slice(0,100).map(((e,n)=>(0,l.jsx)(o.Col,{span:24,children:(0,l.jsx)($.ZP,{height:48,overflow:!0,children:(0,l.jsx)(ee,{mintAddress:e,onClick:()=>s(e),active:t===e})})},n)))})})})})]})})},se=e=>{let{selectedMint:t,mints:s=[],onChange:n=(()=>{}),mintLabel:i,mintAvatar:a}=e;const[c,d]=(0,r.useState)(!1);return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsxs)(o.Space,{className:"mint-select",onClick:()=>d(s.length>0),children:[a||(0,l.jsx)(E.Z,{mintAddress:t}),i||(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(o.Typography.Text,{type:"secondary",children:(0,l.jsx)(H.Z,{mintAddress:t})}),s.length?(0,l.jsx)(o.Typography.Text,{type:"secondary",children:(0,l.jsx)(u.Z,{name:"chevron-down-outline"})}):null]})]}),c&&(0,l.jsx)(te,{selectedMint:t,visible:c,onChange:e=>(n&&n(e),d(!1)),mints:s,onClose:()=>d(!1)})]})};let ne;!function(e){e.AMM="AMM",e.Lending="Lending"}(ne||(ne={}));const ie=()=>{const e=(e,t,s,n)=>e.map(((e,t)=>Number(f.default.undecimalize(BigInt(e.toString()),n[t])))).reduce(((e,i,r)=>{const a={balanceIn:t[r],balanceOut:s,weightIn:.5,decimalIn:n[r],swapFee:new g.BN(0)},o=((e,t)=>{const s=Number(f.default.undecimalize(BigInt(t.balanceOut.toString()),9)),n=Number(f.default.undecimalize(BigInt(e.toString()),9)),i=t.weightIn,r=Number(f.default.undecimalize(BigInt(t.balanceIn.toString()),t.decimalIn)),a=Number(f.default.undecimalize(BigInt(t.swapFee.toString()),9));return Math.pow((n+s)/s,1/i)*r/((n+s)*(1+a*(-1+i))*i)})(new g.BN(0),a);return e+i/o}),0);return{calcDepositInfo:(t,s,n,i,r)=>{if(0===i.length)return{lpOut:0,impactPrice:0};const a=Number(((e,t,s,n,i)=>{const r=Number(f.default.undecimalize(BigInt(i.toString()),9)),a=Number(f.default.undecimalize(BigInt(s.toString()),9)),o=t.map(((e,t)=>Number(f.default.undecimalize(BigInt(e.toString()),n[t])))),l=e.map(((e,t)=>Number(f.default.undecimalize(BigInt(e.toString()),n[t]))));console.log(r,a,o,l,"numAmountIns");const c=new Array(e.length);let u=0;for(let m=0;m<e.length;m++)c[m]=(o[m]+l[m])/o[m],u+=.5*c[m];let d=1;for(let m=0;m<e.length;m++){let e=l[m];if(c[m]>u){let t=o[m]*(u-1);e=t+(l[m]-t)*(1-r)}d*=((o[m]+e)/o[m])**.5}return d>1?a*(d-1):0})(t,s,n,i,r).toFixed(9));return{lpOut:a,impactPrice:1-a/Number(e(t,s,n,i).toFixed(9))||0}},calcMintReceivesRemoveFullSide:(e,t,s)=>{let n=e.toNumber()/t.toNumber();return s.map((e=>new g.BN(n*Number(e))))},calcOutGivenInSwap:(e,t,s,n)=>t*(1-s/(s+e))*(1-n)}},{sol:{baseMint:re}}=R,ae=e=>{let{poolAddress:t}=e;const[s,i]=(0,r.useState)("0"),[a,c]=(0,r.useState)("0"),[d,m]=(0,r.useState)(!1),h=(0,n.useSelector)((e=>e.pools)),{mint:g}=h[t],y=g.toBase58(),x=A(),{decimalizeMintAmount:b,undecimalizeMintAmount:j}=C(),{calcOutGivenInSwap:S}=ie(),w=L(t),{balance:M}=B(re);return(0,l.jsxs)(o.Row,{gutter:[24,24],justify:"center",children:[(0,l.jsx)(o.Col,{span:24,children:(0,l.jsxs)(o.Row,{children:[(0,l.jsx)(o.Col,{span:24,children:(0,l.jsx)(o.Card,{bordered:!1,style:{borderRadius:"4px 4px 0 0",background:"rgb(20 20 20 / 10%)",boxShadow:"unset"},children:(0,l.jsxs)(o.Row,{align:"middle",justify:"end",children:[(0,l.jsx)(o.Col,{children:(0,l.jsxs)(o.Space,{onClick:()=>i(M.toString()),style:{cursor:"pointer"},children:[(0,l.jsx)(o.Typography.Text,{type:"secondary",style:{textDecoration:"underline"},children:"Available:"}),(0,l.jsx)(o.Typography.Text,{style:{textDecoration:"underline"},children:M})]})}),(0,l.jsx)(o.Col,{span:24}),(0,l.jsx)(o.Col,{span:4,children:(0,l.jsx)(se,{mintAvatar:(0,l.jsx)(E.Z,{mintAddress:re}),selectedMint:re})}),(0,l.jsx)(o.Col,{span:20,children:(0,l.jsx)(o.InputNumber,{bordered:!1,style:{fontSize:32,textAlign:"right",width:"100%"},value:s,onChange:e=>(async e=>{i(e);const{balance:t,stableBalance:s,fee:n,stableMint:r,mint:a}=w,o=await j(t,a),l=await j(s,r),u=await j(n,r),d=S(Number(e),Number(o),Number(l),Number(u));c(`${d}`)})(e||"")})})]})})}),(0,l.jsx)(o.Col,{span:24,style:{position:"relative",minHeight:2},children:(0,l.jsx)(u.Z,{style:{position:"absolute",color:"#000000",borderRadius:99,border:"2px solid #e2f8f4",left:"50%",background:"#c9e3d9",top:-8,zIndex:99},name:"arrow-down-outline"})}),(0,l.jsx)(o.Col,{span:24,children:(0,l.jsx)(o.Card,{bordered:!1,style:{borderRadius:"0 0 4px 4px",background:"rgb(20 20 20 / 10%)",boxShadow:"unset"},children:(0,l.jsxs)(o.Row,{gutter:[24,24],align:"middle",children:[(0,l.jsx)(o.Col,{span:4,children:(0,l.jsx)(se,{mintAvatar:(0,l.jsx)(E.Z,{mintAddress:y}),selectedMint:y})}),(0,l.jsx)(o.Col,{span:20,style:{textAlign:"right"},children:(0,l.jsx)(o.Typography.Text,{style:{fontSize:32,paddingRight:10,paddingLeft:32},ellipsis:!0,children:a})})]})})})]})}),(0,l.jsx)(o.Col,{span:24,children:(0,l.jsx)(o.Button,{loading:d,type:"primary",block:!0,onClick:async()=>{m(!0);try{console.log(s,"so luong amount");const e=await b(s,re),{txId:n}=await x.buy(t,e,e);return(0,p.t5)("Deposited",n)}catch(e){(0,p.cB)(e)}finally{m(!1)}},children:"Buy"})})]})},{sol:{baseMint:oe}}=R,le=e=>{let{poolAddress:t}=e;const[s,i]=(0,r.useState)("0"),[a,c]=(0,r.useState)("0"),[d,m]=(0,r.useState)(!1),h=(0,n.useSelector)((e=>e.pools)),{mint:g}=h[t],y=g.toBase58(),x=A(),{decimalizeMintAmount:b,undecimalizeMintAmount:j}=C(),{calcOutGivenInSwap:S}=ie(),w=L(t),{balance:M}=B(y);return(0,l.jsxs)(o.Row,{gutter:[24,24],justify:"center",children:[(0,l.jsx)(o.Col,{span:24,children:(0,l.jsxs)(o.Row,{children:[(0,l.jsx)(o.Col,{span:24,children:(0,l.jsx)(o.Card,{bordered:!1,style:{borderRadius:"4px 4px 0 0",background:"rgb(20 20 20 / 10%)",boxShadow:"unset"},children:(0,l.jsxs)(o.Row,{align:"middle",justify:"end",children:[(0,l.jsx)(o.Col,{children:(0,l.jsxs)(o.Space,{onClick:()=>i(M.toString()),style:{cursor:"pointer"},children:[(0,l.jsx)(o.Typography.Text,{type:"secondary",style:{textDecoration:"underline"},children:"Available:"}),(0,l.jsx)(o.Typography.Text,{style:{color:"#000",textDecoration:"underline"},children:M})]})}),(0,l.jsx)(o.Col,{span:24}),(0,l.jsx)(o.Col,{span:4,children:(0,l.jsx)(se,{mintAvatar:(0,l.jsx)(E.Z,{mintAddress:y}),selectedMint:y})}),(0,l.jsx)(o.Col,{span:20,children:(0,l.jsx)(o.InputNumber,{bordered:!1,style:{color:"#000",fontSize:32,textAlign:"right",width:"100%"},value:s,onChange:e=>(async e=>{i(e);const{balance:t,stableBalance:s,fee:n,stableMint:r,mint:a}=w,o=await j(t,a),l=await j(s,r),u=await j(n,r),d=S(Number(e),Number(o),Number(l),Number(u));c(`${d}`)})(e||"")})})]})})}),(0,l.jsx)(o.Col,{span:24,style:{position:"relative",minHeight:2},children:(0,l.jsx)(u.Z,{style:{position:"absolute",color:"#000000",borderRadius:99,border:"2px solid #e2f8f4",left:"50%",background:"#c9e3d9",top:-8,zIndex:99},name:"arrow-down-outline"})}),(0,l.jsx)(o.Col,{span:24,children:(0,l.jsx)(o.Card,{bordered:!1,style:{borderRadius:"0 0 4px 4px",background:"rgb(20 20 20 / 10%)",boxShadow:"unset"},children:(0,l.jsxs)(o.Row,{gutter:[24,24],align:"middle",children:[(0,l.jsx)(o.Col,{span:4,children:(0,l.jsx)(se,{mintAvatar:(0,l.jsx)(E.Z,{mintAddress:oe}),selectedMint:oe})}),(0,l.jsx)(o.Col,{span:20,style:{textAlign:"right"},children:(0,l.jsx)(o.Typography.Text,{style:{color:"#000",fontSize:32,paddingRight:10,paddingLeft:32},ellipsis:!0,children:a})})]})})})]})}),(0,l.jsx)(o.Col,{span:24,children:(0,l.jsx)(o.Button,{loading:d,type:"primary",block:!0,onClick:async()=>{m(!0);try{console.log(s,"so luong amount");const e=await b(s,oe),{txId:n}=await x.buy(t,e,e);return(0,p.t5)("Deposited",n)}catch(e){(0,p.cB)(e)}finally{m(!1)}},children:"Buy"})})]})},ce=e=>{let{poolAddress:t}=e;const[s,n]=(0,r.useState)(!1),[i,a]=(0,r.useState)("Buy");return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(X,{onClick:()=>n(!0),children:"Buy / Sell"}),(0,l.jsx)(o.Modal,{visible:s,closeIcon:(0,l.jsx)(u.Z,{name:"close-outline"}),onCancel:()=>n(!1),footer:null,className:"sentre-modal-gradient",children:(0,l.jsxs)(o.Row,{gutter:[24,24],children:[(0,l.jsx)(o.Col,{span:24,style:{textAlign:"center"},children:(0,l.jsx)(o.Segmented,{value:i,onChange:e=>a(e),options:["Buy","Sell"]})}),(0,l.jsx)(o.Col,{span:24,children:"Buy"===i?(0,l.jsx)(ae,{poolAddress:t}):(0,l.jsx)(le,{poolAddress:t})})]})})]})},ue=e=>{let{poolAddress:t,closeModal:s}=e;const a=(0,n.useSelector)((e=>e.pools)),{baseMint:c,mint:u,lptMint:m,balance:g,baseBalance:y,lptSupply:x,fee:b}=a[t],[j,S]=(0,r.useState)("0"),[w,M]=(0,r.useState)("0"),[f,T]=(0,r.useState)(!1),[v,k]=(0,r.useState)(0),P=A(),{decimalizeMintAmount:N}=C(),I=B(u.toBase58()),R=B(c.toBase58()),K=B(m.toBase58()),{calcDepositInfo:z}=ie(),D=(0,i.useGetMintDecimals)();return(0,l.jsxs)(o.Row,{gutter:[16,16],style:{color:"#000000"},children:[(0,l.jsx)(o.Col,{span:24,style:{textAlign:"right"},children:(0,l.jsxs)(o.Typography.Text,{style:{color:"#000000"},children:["Available: ",i.util.numeric(I.balance).format("0,0.[000]")]})}),(0,l.jsx)(o.Col,{span:24,children:(0,l.jsxs)(o.Row,{justify:"space-between",children:[(0,l.jsx)(o.Col,{children:(0,l.jsx)(o.Button,{type:"primary",onClick:()=>S(I.balance.toString()),children:"MAX"})}),(0,l.jsx)(o.Col,{children:(0,l.jsx)(o.InputNumber,{bordered:!1,style:{color:"#000000",textAlign:"center",fontSize:"20px",fontWeight:700},value:j,onChange:e=>(async e=>{S(e);const t=[await N(e,u),await N(w,c)],s=[g,y],n=await D({mintAddress:u.toBase58()})||0,i=z(t,s,x,[n,9],b);k(i.lpOut)})(e||"")})}),(0,l.jsx)(o.Col,{children:(0,l.jsx)(o.Input,{style:{background:"#F4FCEB",color:"#000000",borderRadius:32,height:40,width:135},disabled:!0,value:u.toBase58()})})]})}),(0,l.jsx)(o.Col,{span:24,style:{textAlign:"right"},children:(0,l.jsxs)(o.Typography.Text,{style:{color:"#000000"},children:["Available:"," ",i.util.numeric(R.balance).format("0,0.[000]")]})}),(0,l.jsx)(o.Col,{span:24,children:(0,l.jsxs)(o.Row,{justify:"space-between",children:[(0,l.jsx)(o.Col,{children:(0,l.jsx)(o.Button,{type:"primary",onClick:()=>M(R.balance.toString()),children:"MAX"})}),(0,l.jsx)(o.Col,{children:(0,l.jsx)(o.InputNumber,{bordered:!1,style:{color:"#000000",textAlign:"center",fontSize:"20px",fontWeight:700},value:w,onChange:e=>(async e=>{M(e);const t=[await N(j,u),await N(e,c)],s=[g,y],n=await D({mintAddress:u.toBase58()})||0,i=z(t,s,x,[n,9],b);k(i.lpOut)})(e||"")})}),(0,l.jsx)(o.Col,{children:(0,l.jsx)(h.Z,{style:{background:"#F4FCEB",color:"#000000",borderRadius:32,height:40,width:135},disabled:!0,value:c.toBase58()})})]})}),(0,l.jsx)(o.Col,{span:24,children:(0,l.jsx)(o.Typography.Title,{style:{color:"#000000"},level:4,children:"Review"})}),(0,l.jsx)(o.Col,{span:24,children:(0,l.jsxs)(o.Space,{direction:"vertical",style:{width:"100%"},children:[(0,l.jsxs)(o.Row,{children:[(0,l.jsx)(o.Col,{flex:"auto",children:(0,l.jsx)(o.Typography.Text,{style:{color:"#000000"},children:"My supply"})}),(0,l.jsx)(o.Col,{children:(0,l.jsx)(o.Typography.Title,{level:4,style:{color:"#000000"},children:i.util.numeric(K.balance).format("0,0.[000]")})})]}),(0,l.jsxs)(o.Row,{children:[(0,l.jsx)(o.Col,{flex:"auto",children:(0,l.jsx)(o.Typography.Text,{style:{color:"#000000"},children:"You will receive"})}),(0,l.jsx)(o.Col,{children:(0,l.jsx)(o.Typography.Title,{level:4,style:{color:"#000000"},children:i.util.numeric(v).format("0,0.[000]")})})]})]})}),(0,l.jsx)(o.Col,{span:24,children:(0,l.jsx)(o.Button,{loading:f,block:!0,onClick:async()=>{try{T(!0);const e=await N(j,u),n=await N(w,c),{txId:i}=await P.addLiquidity(t,e,new d.BN(0),n);return s(),(0,p.t5)("Deposited",i)}catch(e){(0,p.cB)(e)}finally{T(!1)}},type:"primary",children:"Deposit"})})]})},de=e=>{let{poolAddress:t}=e;const[s,i]=(0,r.useState)("0"),[a,c]=(0,r.useState)(!1),u=(0,n.useSelector)((e=>e.pools)),{lptMint:d,baseMint:m,mint:h}=u[t],{balance:g}=B(d.toBase58()),y=A(),{decimalizeMintAmount:x}=C(),{lptAmount:b,stableAmount:j,amount:S}=q(t),w=(0,r.useMemo)((()=>Number(s)/b),[s,b]),M=j*w,f=S*w;return(0,l.jsxs)(o.Row,{gutter:[24,24],children:[(0,l.jsx)(o.Col,{span:24,children:(0,l.jsx)(o.Card,{bordered:!1,style:{borderRadius:4,background:"rgb(20 20 20 / 10%)",boxShadow:"unset"},children:(0,l.jsxs)(o.Row,{justify:"end",children:[(0,l.jsx)(o.Col,{children:(0,l.jsxs)(o.Space,{onClick:()=>i(g.toString()),size:6,style:{cursor:"pointer"},children:[(0,l.jsx)(o.Typography.Text,{type:"secondary",style:{textDecoration:"underline"},children:"Available:"}),(0,l.jsx)(o.Typography.Text,{style:{color:"#000000",textDecoration:"underline"},children:T.util.numeric(g).format("0,0")})]})}),(0,l.jsx)(o.Col,{span:24,children:(0,l.jsx)(o.InputNumber,{bordered:!1,onChange:e=>i(e||""),style:{fontSize:35,fontWeight:700,textAlign:"right",color:"#000000"},value:s})})]})})}),(0,l.jsx)(o.Col,{span:24,children:(0,l.jsx)(o.Typography.Title,{level:5,style:{color:"#000000"},children:"You will receive"})}),(0,l.jsx)(o.Col,{span:24,children:(0,l.jsxs)(o.Row,{gutter:[8,8],children:[(0,l.jsx)(o.Col,{span:12,children:(0,l.jsx)(o.Card,{bordered:!1,style:{borderRadius:"4px 0 0 4px",background:"rgb(20 20 20 / 10%)",boxShadow:"unset"},children:(0,l.jsxs)(o.Space,{direction:"vertical",children:[(0,l.jsxs)(o.Space,{children:[(0,l.jsx)(E.Z,{mintAddress:m.toBase58()}),(0,l.jsx)(o.Typography.Text,{style:{color:"#000000"},children:(0,l.jsx)(H.Z,{mintAddress:m.toBase58()})})]}),(0,l.jsx)(o.Typography.Text,{style:{color:"#000000"},children:T.util.numeric(M).format("0,0.[000]")})]})})}),(0,l.jsx)(o.Col,{span:12,children:(0,l.jsx)(o.Card,{bordered:!1,style:{borderRadius:"0 4px 4px 0",background:"rgb(20 20 20 / 10%)",boxShadow:"unset"},bodyStyle:{textAlign:"right"},children:(0,l.jsxs)(o.Space,{direction:"vertical",children:[(0,l.jsxs)(o.Space,{children:[(0,l.jsx)(o.Typography.Text,{style:{color:"#000000"},children:(0,l.jsx)(H.Z,{mintAddress:h.toBase58()})}),(0,l.jsx)(E.Z,{mintAddress:h.toBase58()})]}),(0,l.jsx)(o.Typography.Text,{style:{color:"#000000"},children:T.util.numeric(f).format("0,0.[000]")})]})})})]})}),(0,l.jsx)(o.Col,{span:24,children:(0,l.jsx)(o.Button,{block:!0,loading:a,onClick:async()=>{try{c(!0);const e=await x(s,d),{txId:n}=await y.removeLiquidity(t,e);return(0,p.t5)("Deposited",n)}catch(e){(0,p.cB)(e)}finally{c(!1)}},type:"primary",children:"Withdraw"})})]})},me=e=>{let{poolAddress:t}=e;const[s,n]=(0,r.useState)(!1),[i,a]=(0,r.useState)("Deposit");return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(X,{onClick:()=>n(!0),children:"Deposit / Withdraw"}),(0,l.jsx)(o.Modal,{visible:s,closeIcon:(0,l.jsx)(u.Z,{name:"close-outline"}),onCancel:()=>n(!1),footer:null,className:"sentre-modal-gradient",children:(0,l.jsxs)(o.Row,{gutter:[24,24],children:[(0,l.jsx)(o.Col,{span:24,style:{textAlign:"center"},children:(0,l.jsx)(o.Segmented,{value:i,onChange:e=>a(e),options:["Deposit","Withdraw"]})}),(0,l.jsx)(o.Col,{span:24,children:"Deposit"===i?(0,l.jsx)(ue,{poolAddress:t,closeModal:()=>n(!1)}):(0,l.jsx)(de,{poolAddress:t})})]})})]})},pe=e=>{let{poolAddress:t}=e;const s=L(t),n=G(t),[a,u]=(0,r.useState)(!1),d=A(),{undecimalize:m}=C(),[h,g]=(0,r.useState)("0"),[y,x]=(0,r.useState)("0"),b=(0,i.useWalletAddress)(),j=(0,r.useCallback)((async()=>{const e=await d.getTokenAccounts(b,t,s.mint,s.baseMint);let n=0,i=0;try{const t=await d.program.account.cheque.fetch(e.cheque);n=Number(m(t.borrowAmount,9)),i=Number(m(t.baseAmount,9))}catch(r){}g(String(n)),x(String(i))}),[d,t,s.baseMint,s.mint,m,b]);(0,r.useEffect)((()=>{j()}),[j]);return(0,l.jsxs)(o.Row,{gutter:[16,16],style:{color:"#000000"},children:[(0,l.jsx)(o.Col,{span:12,children:(0,l.jsx)(c,{label:"DEBT",value:(0,l.jsx)("span",{children:i.util.numeric(y).format("$0,0.[00]")})})}),(0,l.jsx)(o.Col,{span:12,children:(0,l.jsx)(c,{label:"TOTAL LOCKED",value:(0,l.jsx)("span",{children:i.util.numeric(Number(h)*n.lptPrice).format("$0,0.[00]")})})}),(0,l.jsx)(o.Col,{span:24,children:(0,l.jsx)(o.Button,{loading:a,block:!0,onClick:async()=>{try{u(!0);const{txId:e}=await d.repay(t);return(0,p.t5)("Replay",e)}catch(e){(0,p.cB)(e)}finally{u(!1)}},type:"primary",children:"Repay"})})]})},he=e=>{let{poolAddress:t}=e;const[s,n]=(0,r.useState)("0"),[a,c]=(0,r.useState)(!1),{lptMint:u}=L(t),d=G(t),{balance:m}=B(u.toBase58()),h=A(),{decimalizeMintAmount:g}=C();return(0,l.jsxs)(o.Row,{gutter:[12,12],children:[(0,l.jsx)(o.Col,{span:24,children:(0,l.jsxs)(o.Row,{children:[(0,l.jsx)(o.Col,{flex:"auto",children:(0,l.jsx)(o.Typography.Text,{style:{color:"#292321",fontSize:12},children:"You don't have to fear liquidation risk"})}),(0,l.jsx)(o.Col,{children:(0,l.jsxs)(o.Typography.Text,{style:{color:"#000000"},children:["Available: ",i.util.numeric(m).format("0,0.[000]")]})})]})}),(0,l.jsx)(o.Col,{span:24,children:(0,l.jsxs)(o.Row,{align:"middle",children:[(0,l.jsx)(o.Col,{flex:"auto",children:(0,l.jsx)(o.Button,{type:"primary",onClick:()=>n(m.toString()),children:"Max"})}),(0,l.jsx)(o.Col,{children:(0,l.jsxs)(o.Space,{children:[(0,l.jsx)(o.InputNumber,{bordered:!1,onChange:e=>n(e||""),style:{color:"#000000",fontSize:30,fontWeight:700,width:150,textAlign:"right"},value:s}),(0,l.jsx)(o.Typography.Title,{level:4,style:{color:"#000000"},children:"LPT"})]})})]})}),(0,l.jsx)(o.Col,{span:24,children:(0,l.jsx)(o.Typography.Title,{level:5,style:{color:"#000000"},children:"Review"})}),(0,l.jsx)(o.Col,{span:24,children:(0,l.jsxs)(o.Row,{children:[(0,l.jsx)(o.Col,{flex:"auto",children:(0,l.jsx)(o.Typography.Text,{style:{color:"#000000"},children:"Total Borrow"})}),(0,l.jsx)(o.Col,{children:(0,l.jsx)(o.Typography.Title,{level:4,style:{color:"#000000"},children:i.util.numeric(Number(s)*d.lptPrice/2).format("$0,0.[000]")})})]})}),(0,l.jsx)(o.Col,{span:24,children:(0,l.jsx)(o.Button,{block:!0,loading:a,onClick:async()=>{try{c(!0);const e=await g(s,u),{txId:n}=await h.borrow(t,e);return(0,p.t5)("Deposited",n)}catch(e){(0,p.cB)(e)}finally{c(!1)}},type:"primary",children:"Borrow"})})]})},ge=e=>{let{poolAddress:t}=e;const[s,n]=(0,r.useState)(!1),[i,a]=(0,r.useState)("Borrow");return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(X,{onClick:()=>n(!0),children:"Borrow / Repay"}),(0,l.jsx)(o.Modal,{visible:s,closeIcon:(0,l.jsx)(u.Z,{name:"close-outline"}),onCancel:()=>n(!1),footer:null,className:"sentre-modal-gradient",children:(0,l.jsxs)(o.Row,{gutter:[24,24],children:[(0,l.jsx)(o.Col,{span:24,style:{textAlign:"center"},children:(0,l.jsx)(o.Segmented,{value:i,onChange:e=>a(e),options:["Borrow","Repay"]})}),(0,l.jsx)(o.Col,{span:24,children:"Borrow"===i?(0,l.jsx)(he,{poolAddress:t}):(0,l.jsx)(pe,{poolAddress:t})})]})})]})},ye=e=>{const t=L(e);let s=(Math.floor((new Date).getTime()/1e3)-t.startTime.toNumber())/86400;return s<1&&(s=1),s},xe=e=>{const t=q(e),s=ye(e);return(0,r.useMemo)((()=>{const e=t.lptFeeAmount/s/t.lptAmount;return Number(Number(365*e*100).toFixed(6))}),[t.lptAmount,t.lptFeeAmount,s])},be=e=>{let{rank:t,poolAddress:s}=e;const[a,c]=(0,r.useState)(),d=(0,n.useSelector)((e=>e.pools[s])),m=(e=>{const t=ye(e),s=q(e),n=G(e),i=(0,r.useMemo)((()=>s.lptFeeAmount*n.lptPrice),[s.lptFeeAmount,n.lptPrice]);return{totalFee:i,fee24h:i/t}})(s),p=(e=>{const t=q(e),s=G(e);return t.amount*s.mintPrice+t.stableAmount})(s),h=xe(s),g=J(s);return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(o.Card,{bordered:!1,className:`pool-card top-${t+1}`,onClick:()=>c(a?void 0:s),children:(0,l.jsxs)(o.Row,{gutter:[24,24],align:"middle",children:[(0,l.jsx)(o.Col,{children:(0,l.jsx)(o.Typography.Title,{level:5,children:t+1})}),(0,l.jsx)(o.Col,{children:(0,l.jsx)(E.Z,{mintAddress:d.mint.toBase58(),size:48})}),(0,l.jsx)(o.Col,{span:4,children:(0,l.jsxs)(o.Space,{direction:"vertical",children:[(0,l.jsx)(o.Typography.Title,{level:5,ellipsis:!0,children:(0,l.jsx)(D.Z,{mintAddress:d.mint.toBase58()})}),(0,l.jsx)(o.Typography.Title,{level:5,className:"symbol",style:{color:"#000"},children:(0,l.jsx)(H.Z,{mintAddress:d.mint.toBase58()})})]})}),(0,l.jsx)(o.Col,{span:3,children:(0,l.jsx)(Y,{primary:!0,label:"APY",value:i.util.numeric(h).format("0.00[00]%")})}),(0,l.jsx)(o.Col,{span:4,children:(0,l.jsx)(Y,{label:"Total Fee",value:i.util.numeric(m.totalFee).format("0,0.00[00]"),mintAddress:d.baseMint.toBase58()})}),(0,l.jsx)(o.Col,{span:4,children:(0,l.jsx)(Y,{label:"Total Value Locked",value:i.util.numeric(p).format("0,0.00[00]a"),mintAddress:d.baseMint.toBase58()})}),(0,l.jsx)(o.Col,{span:4,children:(0,l.jsx)(Y,{label:"Your Liquidity",value:i.util.numeric(Number(g)).format("0,0.00[00]"),mintAddress:d.baseMint.toBase58()})}),(0,l.jsx)(o.Col,{children:(0,l.jsx)(o.Button,{type:"text",style:{padding:0,background:"transparent"},onClick:()=>{},children:(0,l.jsx)(u.Z,{name:a?"chevron-up-outline":"chevron-down-outline",style:{fontSize:32}})})})]})}),(0,l.jsx)(o.Collapse,{activeKey:a,className:"sentre-expand-card",children:(0,l.jsx)(o.Collapse.Panel,{header:null,showArrow:!1,children:(0,l.jsxs)(o.Row,{gutter:[24,24],children:[(0,l.jsx)(o.Col,{children:(0,l.jsx)(ce,{poolAddress:s})}),(0,l.jsx)(o.Col,{children:(0,l.jsx)(me,{poolAddress:s})}),(0,l.jsx)(o.Col,{children:(0,l.jsx)(ge,{poolAddress:s})})]})},s)})]})};const je=s.p+"static/media/ico-rank.e8bad3d57040eab8fd4652843fbb1318.svg",Se=()=>{const e=(0,n.useSelector)((e=>e.pools));return Object.keys(e).length?(0,l.jsx)(o.Row,{gutter:[24,24],justify:"center",align:"middle",children:Object.keys(e).map(((e,t)=>(0,l.jsxs)(o.Col,{span:24,className:"wrap-card-pool",children:[0===t&&(0,l.jsx)(o.Image,{className:"ico-number-one",src:je,alt:"number one",preview:!1}),(0,l.jsx)(be,{rank:t,poolAddress:e})]},e)))}):(0,l.jsx)(o.Empty,{})};var we=s(19289);const Me="pools",Ae=(0,we.createAsyncThunk)(`${Me}/upsetPool`,(async e=>{let{address:t,data:s}=e;if(!i.util.isAddress(t))throw new Error("Invalid pool address");if(!s)throw new Error("Data is empty");return{[t]:s}})),fe=(0,we.createAsyncThunk)(`${Me}/upsetPools`,(async e=>e)),Te=(0,we.createSlice)({name:Me,initialState:{},reducers:{},extraReducers:e=>{e.addCase(fe.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)})).addCase(Ae.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)}))}}).reducer;let Ce=0;const ve=e=>{const[t,s]=(0,r.useState)(!0),i=(0,n.useDispatch)(),a=A(),o=(0,r.useCallback)((async()=>{try{let e=await a.getPools();console.log(e,"watch pools"),await i(fe(e)).unwrap()}catch(e){return window.notify({type:"error",description:"Cannot fetch data of pools"})}finally{s(!1)}}),[i,a]),c=(0,r.useCallback)((async()=>{if(Ce)return console.warn("Already watched");Ce=a.watch(((e,t)=>e?console.error(e):t?i(Ae({address:t.address,data:t.data})):void 0),[])}),[i,a]);return(0,r.useEffect)((()=>(o(),c(),()=>{(async()=>{try{await a.unwatch(Ce)}catch(e){}})(),Ce=0})),[o,a,c]),t?(0,l.jsx)("div",{children:"Loading"}):(0,l.jsx)(r.Fragment,{children:e.children})},ke=((0,a.r)(),()=>{const e=(0,n.useSelector)((e=>e.pools)),[t,s]=(0,r.useState)("0"),a=J("4VY3v61QFN3S4amq5RpXGNX3UpXK1KzYyG8cLWnZbZH6"),{undecimalize:u}=C(),d=(0,r.useCallback)((()=>{let t=0;for(const s of Object.values(e))t+=2*Number(u(s.stableBalance,9));s(t.toString())}),[e,u]);return(0,r.useEffect)((()=>{d()}),[d]),(0,l.jsxs)(o.Row,{gutter:[0,48],children:[(0,l.jsx)(o.Col,{span:24,children:(0,l.jsxs)(o.Row,{gutter:[24,24],children:[(0,l.jsx)(o.Col,{xs:24,lg:8,children:(0,l.jsxs)(o.Space,{direction:"vertical",children:[(0,l.jsx)(o.Typography.Title,{level:2,style:{color:"#ABFC47"},children:"THE AUTO"}),(0,l.jsx)(o.Typography.Text,{children:"A single deposit generates yield from Hakapool positions, the highest quality yield sources in the Sentre ecosystem."})]})}),(0,l.jsx)(o.Col,{xs:24,lg:8,children:(0,l.jsxs)(o.Row,{gutter:[12,12],children:[(0,l.jsx)(o.Col,{span:24,children:(0,l.jsx)(c,{label:"TOTAL VALUE LOCK",value:(0,l.jsx)("span",{children:i.util.numeric(t).format("$0,0.00[00]a")})})}),(0,l.jsx)(o.Col,{span:24,children:(0,l.jsx)(c,{label:"TOTAL POOLS",value:(0,l.jsx)("span",{children:Object.keys(e).length})})})]})}),(0,l.jsx)(o.Col,{xs:24,lg:8,children:(0,l.jsx)(c,{label:"YOUR POSITION",value:(0,l.jsxs)("span",{children:["$",i.util.numeric(a).format("0,0.00[00]")]})})})]})}),(0,l.jsx)(o.Col,{span:24,children:(0,l.jsx)(W,{})}),(0,l.jsx)(o.Col,{span:18,children:(0,l.jsx)(Se,{})}),(0,l.jsx)(o.Col,{span:6,children:(0,l.jsxs)(o.Space,{direction:"vertical",size:12,style:{textAlign:"right"},children:[(0,l.jsxs)(o.Space,{direction:"vertical",size:4,children:[(0,l.jsx)(o.Typography.Title,{level:5,style:{color:"#ABFC47"},children:"CREATE LIQUIDIY POOL"}),(0,l.jsx)(o.Typography.Title,{level:4,style:{color:"#ABFC47"},children:"NOT HARDER"})]}),(0,l.jsx)(o.Typography.Text,{children:"A single deposit generates yield from Hakapool positions, the highest quality yield sources in the Sentre ecosystem."})]})}),(0,l.jsx)(o.Col,{span:24}),(0,l.jsx)(ve,{})]})});var Pe=s(97429).Buffer;BigInt.prototype.toJSON=function(){return this.toString()};const Be={serializableCheck:{isSerializable:e=>"undefined"===typeof e||null===e||"string"===typeof e||"boolean"===typeof e||"number"===typeof e||Array.isArray(e)||(e=>{if(null===e)return!1;const t=Object.getPrototypeOf(e);return null!==t&&null===Object.getPrototypeOf(t)})(e)||"bigint"===typeof e||e instanceof x.PublicKey||e instanceof m()||Pe.isBuffer(e)}},Ne="main",Ie=(0,we.createAsyncThunk)(`${Ne}/increaseCounter`,(async(e,t)=>{let{getState:s}=t;const{main:{counter:n}}=s();return{counter:n+1}})),Re=(0,we.createSlice)({name:Ne,initialState:{counter:0},reducers:{},extraReducers:e=>{e.addCase(Ie.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)}))}}).reducer,Ke=(0,we.configureStore)({middleware:e=>e(Be),devTools:!1,reducer:{main:Re,pools:Te}});var ze=s(45597);const{manifest:{appId:De}}=R,Ee=()=>(0,l.jsx)(i.AntdProvider,{appId:De,children:(0,l.jsx)(n.Provider,{store:Ke,children:(0,l.jsx)(ke,{})})})},83272:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/README.ff93448fef94ea73029b.md"},69363:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/logo.da175f6d5d1564b6bc58.png"},70854:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/panel.6ce7bc345912340df001.png"},7420:()=>{},95856:()=>{},46601:()=>{},52361:()=>{},94616:()=>{},55024:()=>{}}]);
//# sourceMappingURL=node_modules_sentre_senhub_dist_components_pageLoader_lazy_recursive-src_bootstrap_app_tsx-no-750158.7f5317c5.chunk.js.map